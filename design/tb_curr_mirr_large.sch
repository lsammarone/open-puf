v {xschem version=3.0.0 file_version=1.2 }
G {}
K {}
V {}
S {}
E {}
N -30 230 -30 270 { lab=VGND}
N -30 120 -30 170 { lab=VPWR}
N -200 230 -200 260 { lab=GND}
N -200 130 -200 170 { lab=VGND}
N 350 390 490 390 { lab=#net1}
N 310 300 310 360 { lab=#net1}
N 310 -30 310 30 { lab=VPWR}
N 310 330 360 330 { lab=#net1}
N 360 330 380 330 { lab=#net1}
N 380 330 380 390 { lab=#net1}
N 530 270 530 360 { lab=#net2}
N 530 120 530 210 { lab=#net2}
N 310 30 310 80 { lab=VPWR}
N 250 110 290 110 { lab=VGND}
N 310 260 310 300 { lab=#net1}
N 310 140 310 200 { lab=#net1}
N 310 420 310 480 { lab=#net3}
N 350 510 490 510 { lab=VPWR}
N 530 420 530 480 { lab=#net4}
N 310 540 310 600 { lab=VGND}
N 530 540 530 600 { lab=VGND}
N 740 420 740 480 { lab=#net5}
N 740 540 740 600 { lab=VGND}
N 270 510 310 510 { lab=VGND}
N 270 510 270 550 { lab=VGND}
N 270 550 310 550 { lab=VGND}
N 530 510 570 510 { lab=VGND}
N 570 510 570 550 { lab=VGND}
N 530 550 570 550 { lab=VGND}
N 460 380 460 390 { lab=#net1}
N 460 380 700 380 { lab=#net1}
N 700 380 700 390 { lab=#net1}
N 460 500 460 510 { lab=VPWR}
N 460 500 700 500 { lab=VPWR}
N 700 500 700 510 { lab=VPWR}
N 740 510 760 510 { lab=VGND}
N 760 510 760 550 { lab=VGND}
N 740 550 760 550 { lab=VGND}
N 530 -130 530 -80 { lab=#net2}
N 570 -160 610 -160 { lab=#net2}
N 610 -160 610 -100 { lab=#net2}
N 530 -100 610 -100 { lab=#net2}
N 570 390 570 510 { lab=VGND}
N 530 390 570 390 { lab=VGND}
N 760 390 760 510 { lab=VGND}
N 740 390 760 390 { lab=VGND}
N 270 390 270 510 { lab=VGND}
N 270 390 310 390 { lab=VGND}
N 530 -250 530 -190 { lab=#net6}
N 530 -370 530 -310 { lab=VPWR}
N 510 -160 530 -160 { lab=VPWR}
N 510 -320 510 -160 { lab=VPWR}
N 510 -320 530 -320 { lab=VPWR}
N 510 -280 530 -280 { lab=VPWR}
N 530 -80 530 120 { lab=#net2}
N 740 270 740 360 { lab=#net7}
N 610 -160 700 -160 { lab=#net2}
N 570 -280 700 -280 { lab=VGND}
N 740 -250 740 -190 { lab=#net8}
N 510 -320 530 -320 { lab=VPWR}
N 740 -370 740 -310 { lab=VPWR}
N 740 -160 760 -160 { lab=VPWR}
N 760 -330 760 -160 { lab=VPWR}
N 740 -330 760 -330 { lab=VPWR}
N 740 -280 760 -280 { lab=VPWR}
N 960 540 960 600 { lab=VGND}
N 310 600 960 600 { lab=VGND}
N 940 550 960 550 { lab=VGND}
N 940 390 940 550 { lab=VGND}
N 940 390 960 390 { lab=VGND}
N 940 510 960 510 { lab=VGND}
N 960 420 960 480 { lab=#net9}
N 740 100 960 160 { lab=#net10}
N 740 160 960 100 { lab=#net7}
N 960 -130 960 100 { lab=#net7}
N 740 160 740 210 { lab=#net7}
N 960 270 960 360 { lab=#net10}
N 960 160 960 210 { lab=#net10}
N 740 -130 740 100 { lab=#net10}
N 960 -370 960 -310 { lab=VPWR}
N 530 -370 960 -370 { lab=VPWR}
N 940 -320 960 -320 { lab=VPWR}
N 940 -320 940 -160 { lab=VPWR}
N 940 -160 960 -160 { lab=VPWR}
N 940 -280 960 -280 { lab=VPWR}
N 960 -260 960 -190 { lab=#net11}
N 960 600 1170 600 { lab=VGND}
N 1220 540 1220 600 { lab=VGND}
N 1170 600 1220 600 { lab=VGND}
N 1000 390 1180 390 { lab=#net10}
N 960 310 1030 310 { lab=#net10}
N 1030 310 1030 390 { lab=#net10}
N 1000 510 1070 510 { lab=VPWR}
N 1130 510 1180 510 { lab=VIN}
N 1000 -160 1180 -160 { lab=#net7}
N 960 -90 1030 -90 { lab=#net7}
N 1030 -160 1030 -90 { lab=#net7}
N 1220 -250 1220 -190 { lab=#net12}
N 1220 -370 1220 -310 { lab=VPWR}
N 960 -370 1220 -370 { lab=VPWR}
N 1220 -160 1240 -160 { lab=VPWR}
N 1240 -330 1240 -160 { lab=VPWR}
N 1220 -330 1240 -330 { lab=VPWR}
N 1210 -280 1240 -280 { lab=VPWR}
N 1000 -280 1080 -280 { lab=VGND}
N 1130 -280 1180 -280 { lab=VIN}
N 1540 -230 1540 -180 { lab=VGND}
N 410 870 410 910 { lab=VGND}
N 1220 390 1240 390 { lab=VGND}
N 1240 390 1240 560 { lab=VGND}
N 1220 560 1240 560 { lab=VGND}
N 1220 510 1240 510 { lab=VGND}
N 1220 420 1220 480 { lab=#net13}
N 1220 100 1470 100 { lab=cap}
N 1540 100 1540 130 { lab=cap}
N 1470 100 1540 100 { lab=cap}
N 1540 190 1540 240 { lab=VGND}
N 1540 -340 1540 -290 { lab=#net14}
N 410 740 410 810 { lab=VIN}
N 410 740 460 740 { lab=VIN}
N 1220 270 1220 360 { lab=cap}
N 460 740 590 740 { lab=VIN}
N 1220 -130 1220 270 { lab=cap}
N 960 210 960 270 { lab=#net10}
N 740 210 740 270 { lab=#net7}
N 530 210 530 270 { lab=#net2}
N 310 200 310 260 { lab=#net1}
C {devices/code.sym} 10 -230 0 0 {name=TT_MODELS
only_toplevel=true
format="tcleval( @value )"
value="
** opencircuitdesign pdks install
.lib \\\\$::SKYWATER_MODELS\\\\/sky130.lib.spice tt
.include \\\\$::SKYWATER_STDCELLS\\\\/sky130_fd_sc_hd.spice

"
spice_ignore=false}
C {devices/code_shown.sym} -240 -200 0 0 {name=NGSPICE
only_toplevel=true
value="
.control
save all
tran 0.1n 1000n
*op

write tb_curr_mirr.raw
.endc

.options savecurrents
.ic v(cap)=0
"}
C {devices/vsource.sym} -30 200 0 0 {name=V1 value=1.8}
C {devices/lab_pin.sym} -30 260 0 0 {name=l10 sig_type=std_logic lab=VGND}
C {devices/lab_pin.sym} -30 140 0 0 {name=l11 sig_type=std_logic lab=VPWR}
C {devices/vsource.sym} -200 200 0 0 {name=V3 value=0}
C {devices/lab_pin.sym} -30 260 0 0 {name=l13 sig_type=std_logic lab=VGND}
C {devices/lab_pin.sym} -200 140 0 0 {name=l14 sig_type=std_logic lab=VGND}
C {devices/gnd.sym} -200 260 0 0 {name=l12 lab=GND}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 510 390 0 0 {name=M5
L=2
W=4
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 330 390 0 1 {name=M6
L=2
W=4
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/lab_pin.sym} 310 -20 0 0 {name=l18 sig_type=std_logic lab=VPWR}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 310 110 0 0 {name=R1
W=0.35
L=3
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {devices/lab_pin.sym} 260 110 0 0 {name=l1 sig_type=std_logic lab=VGND}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 330 510 0 1 {name=M1
L=0.15
W=4
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 510 510 0 0 {name=M2
L=0.15
W=4
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/lab_pin.sym} 310 580 0 0 {name=l2 sig_type=std_logic lab=VGND}
C {devices/lab_pin.sym} 530 580 0 0 {name=l3 sig_type=std_logic lab=VGND}
C {devices/lab_pin.sym} 310 -20 0 0 {name=l4 sig_type=std_logic lab=VPWR}
C {devices/lab_pin.sym} 430 510 0 0 {name=l5 sig_type=std_logic lab=VPWR}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 720 390 0 0 {name=M3
L=2
W=4
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 720 510 0 0 {name=M4
L=0.15
W=4
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/lab_pin.sym} 740 580 0 0 {name=l6 sig_type=std_logic lab=VGND}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 550 -160 0 1 {name=M7
L=2
W=10
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 550 -280 0 1 {name=M8
L=0.35
W=10
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {devices/lab_pin.sym} 530 -350 0 0 {name=l7 sig_type=std_logic lab=VPWR}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 720 -160 0 0 {name=M9
L=2
W=10
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 720 -280 0 0 {name=M10
L=0.35
W=10
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {devices/lab_pin.sym} 530 -350 0 0 {name=l16 sig_type=std_logic lab=VPWR}
C {devices/lab_pin.sym} 740 -350 0 0 {name=l17 sig_type=std_logic lab=VPWR}
C {devices/lab_pin.sym} 670 -280 0 0 {name=l19 sig_type=std_logic lab=VGND}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 980 390 0 1 {name=M11
L=2
W=4
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 980 510 0 1 {name=M12
L=0.15
W=4
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 980 -160 0 1 {name=M13
L=2
W=10
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 980 -280 0 1 {name=M14
L=0.35
W=10
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 1200 390 0 0 {name=M15
L=2
W=60
nf=1
mult=4
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/lab_pin.sym} 1060 510 0 0 {name=l8 sig_type=std_logic lab=VPWR}
C {devices/lab_pin.sym} 1170 510 0 0 {name=l9 sig_type=std_logic lab=VIN}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 1200 -160 0 0 {name=M17
L=2
W=50
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 1200 -280 0 0 {name=M18
L=0.35
W=50
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {devices/lab_pin.sym} 1070 -280 0 0 {name=l15 sig_type=std_logic lab=VGND}
C {devices/lab_pin.sym} 1170 -280 0 0 {name=l20 sig_type=std_logic lab=VIN}
C {devices/vsource.sym} 1540 -260 0 0 {name=V2 value=0.9}
C {devices/lab_pin.sym} 1540 -200 0 0 {name=l21 sig_type=std_logic lab=VGND}
C {devices/vsource.sym} 410 840 0 0 {name=V4 value=PULSE"(0 1.8 0ns 10ps 10ps 12.5ns 50ns) DC=0.8"}
C {devices/lab_pin.sym} 410 900 0 0 {name=l22 sig_type=std_logic lab=VGND}
C {devices/lab_pin.sym} 410 900 0 0 {name=l24 sig_type=std_logic lab=VGND}
C {devices/lab_pin.sym} 570 740 0 1 {name=l23 sig_type=std_logic lab=VIN}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 1200 510 0 0 {name=M16
L=0.15
W=60
nf=1
mult=4
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/cap_mim_m3_1.sym} 1540 160 0 0 {name=C1 model=cap_mim_m3_1 W=33 L=30 MF=2 spiceprefix=X}
C {devices/lab_pin.sym} 1540 220 0 0 {name=l25 sig_type=std_logic lab=VGND}
C {devices/lab_pin.sym} 1450 100 0 0 {name=l26 sig_type=std_logic lab=cap}
C {devices/noconn.sym} 1540 -340 0 0 {name=l27}
